@using System.Text.Json
@using TechnicalShop.Areas.Admin.Model.DTO
@model OrderDashboardDTO
<div style="padding:20px; font-family:Arial, sans-serif;">

    <!-- Header -->
    <h2 style="margin-bottom:10px; color:#333;">üì¶ Qu·∫£n l√Ω ƒë∆°n h√†ng</h2>
    <p style="color:#666; margin-bottom:20px;">Theo d√µi v√† x·ª≠ l√Ω ƒë∆°n h√†ng c·ªßa c·ª≠a h√†ng b·∫°n</p>

    <!-- Th·ªëng k√™ nhanh -->
    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px; margin-bottom:30px;">
        <div style="background:#eaf2ff; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#2f6fed;">T·ªïng ƒë∆°n h√†ng</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.total</p>
        </div>
        <div style="background:#fff4e5; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#e67e22;">ƒê∆°n h√†ng ch∆∞a duy·ªát</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.notaccepted</p>
        </div>
        <div style="background:#e9fbe5; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#27ae60;">ƒê√£ duy·ªát</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.accepted</p>
        </div>
        <div style="background:#e5fbf7; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#16a085;">ƒêang v·∫≠n chuy·ªÉn</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.shipping</p>
        </div>
        <div style="background:#f5e9ff; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#8e44ad;">Ho√†n t·∫•t</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.completed</p>
        </div>
        <div style="background:#ffeaea; padding:20px; border-radius:12px; text-align:center;">
            <h3 style="color:#c0392b;">ƒê√£ h·ªßy</h3>
            <p style="font-size:24px; font-weight:bold;">@Model.canceled</p>
        </div>
    </div>

    <!-- Thao t√°c nhanh -->
    <div style="margin-bottom:30px;">
        <h3 style="margin-bottom:15px;">‚ö° Thao t√°c nhanh</h3>
        <div style="display:flex; gap:15px; flex-wrap:wrap;">

            <form asp-action="Accept" asp-controller="Order" asp-area="admin" method="post" id="acceptForm">
                <!-- ·ªû ƒë√¢y b·∫°n c√≥ th·ªÉ truy·ªÅn JSON d∆∞·ªõi d·∫°ng string -->
                <input type="hidden" name="orders" value="@JsonSerializer.Serialize(Model.orderNotAccept)" />

                <!-- Div v·∫´n gi·ªØ style nh∆∞ b·∫°n mu·ªën -->
                <div style="background:#eaf2ff; padding:15px; border-radius:10px; flex:1; min-width:150px; cursor:pointer;"
                    onclick="document.getElementById('acceptForm').submit();">
                    ‚úÖ Duy·ªát ƒë∆°n h√†ng m·ªõi
                </div>
            </form>

            <form asp-action="Update" asp-controller="Order"  id="UpdateOrder">
            <input name="orders" type="hidden" value="@JsonSerializer.Serialize(Model.orderAccepted)"/>
            <div style="background:#e9fbe5; padding:15px; border-radius:10px; flex:1; min-width:150px; cursor:pointer;"
                    onclick="document.getElementById('UpdateOrder').submit();">
                üîÑ C·∫≠p nh·∫≠t tr·∫°ng th√°i
            </div>
            </form>
            <a asp-action="ViewOrder" asp-area="admin" asp-controller="Order">
            <div style="background:#fff4e5; padding:15px; border-radius:10px; flex:1; min-width:150px; cursor:pointer;">
                üìã Xem t·∫•t c·∫£ ƒë∆°n
            </div>
            </a>
        </div>
    </div>

    <!-- ƒê∆°n h√†ng g·∫ßn ƒë√¢y -->
    <div style="margin-bottom:30px;">
        <h3 style="margin-bottom:15px;">üïí ƒê∆°n h√†ng g·∫ßn ƒë√¢y <a href="/Order/All" style="float:right; font-size:14px;">Xem t·∫•t c·∫£ ‚Üí</a></h3>
        <table style="width:100%; border-collapse:collapse; background:#fff; border-radius:10px; overflow:hidden;">
            <thead style="background:#f5f5f5;">
                <tr>
                    <th style="padding:10px; text-align:left;">M√£ ƒë∆°n</th>
                    <th style="padding:10px; text-align:left;">Kh√°ch h√†ng</th>
                    <th style="padding:10px; text-align:left;">Ng√†y ƒë·∫∑t</th>
                    <th style="padding:10px; text-align:left;">Tr·∫°ng th√°i</th>
                    <th style="padding:10px; text-align:left;">T·ªïng ti·ªÅn</th>
                    <th style="padding:10px; text-align:left;">H√†nh ƒë·ªông</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding:10px;">#1234</td>
                    <td style="padding:10px;">Nguy·ªÖn VƒÉn A</td>
                    <td style="padding:10px;">20/09/2025</td>
                    <td style="padding:10px; color:#e67e22;">M·ªõi</td>
                    <td style="padding:10px;">2,500,000ƒë</td>
                    <td style="padding:10px;"><a href="#">Chi ti·∫øt</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
