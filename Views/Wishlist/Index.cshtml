@using TechnicalShop.Models.DTO
@model IEnumerable<WishlistDTO>

@if(Model.Count() > 0)
{
    <div style="max-width:950px; margin:30px auto; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">

        <h2 style="margin-bottom:25px; font-size:24px; font-weight:bold; color:#222;">❤️ Danh sách yêu thích</h2>

        @foreach (var item in Model)
        {
            <div style="display:flex; align-items:center; background:#fff; border:1px solid #eee; 
                        border-radius:12px; padding:18px; margin-bottom:18px; 
                        box-shadow:0 4px 12px rgba(0,0,0,0.05); transition:transform 0.2s;">

                <!-- Ảnh sản phẩm -->
                <div style="flex:0 0 130px; margin-right:20px;">
                    <img src="~/images/@item.productImage" alt="@item.productName" 
                         style="width:130px; height:130px; object-fit:cover; border-radius:10px;">
                </div>

                <!-- Thông tin sản phẩm -->
                <div style="flex:1; min-width:0;">
                    <h3 style="margin:0 0 8px 0; font-size:18px; font-weight:600; color:#333; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">
                        @item.productName
                    </h3>
                    <p style="margin:0 0 10px 0; color:#555; font-size:14px; line-height:1.4; overflow:hidden; 
                              text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;">
                        @item.Description
                    </p>
                    <span style="font-size:16px; font-weight:bold; color:#e63946;">@item.Price.ToString("N0") đ</span>
                </div>

                <!-- Nút hành động -->
                <div style="flex:0 0 140px; text-align:right; margin-left:20px;">
                    <a asp-action="AddCart" asp-controller="Wishlist" asp-route-id="@item.productID"
                       style="display:inline-block; padding:8px 12px; margin-bottom:8px; background:#007bff; color:#fff; border:none; 
                              border-radius:6px; cursor:pointer; font-size:14px; width:110px; text-align:center; text-decoration:none;">
                        🛒 Thêm giỏ hàng
                    </a>
                    <br />
                    <a asp-action="Delete" asp-controller="Wishlist" asp-route-id="@item.productID"
                       style="display:inline-block; padding:8px 12px; background:#f44336; color:#fff; border:none; 
                              border-radius:6px; cursor:pointer; font-size:14px; width:110px; text-align:center; text-decoration:none;">
                        ❌ Xóa
                    </a>
                </div>

            </div>
        }
    </div>
}
else
{
    <div style="max-width:950px; margin:50px auto; text-align:center; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        <h2 style="font-size:22px; color:#555; margin-bottom:15px;">💔 Wishlist của bạn đang trống</h2>
        <p style="font-size:16px; color:#777;">Hãy thêm sản phẩm yêu thích vào danh sách để tiện xem sau.</p>
        <a href="/" style="display:inline-block; margin-top:15px; padding:10px 18px; background:#007bff; color:#fff; border-radius:8px; text-decoration:none; font-weight:bold;">
            🛍️ Mua sắm ngay
        </a>
    </div>
}
